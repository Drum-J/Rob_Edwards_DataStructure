### 힙에 새로운 노드를 추가하거나 제거하는 방법을 알아보자
---

힙이라는 자료구조를 사용하기 때문에!!

새로운 노드를 추가하거나 노드를 제거할때도 항상 힙의 규칙을 지켜야 한다.

강의에서는 최대 힙으로 설명을 했다.

그렇다면 항상!! 부모 노드가 자식 노드보다 커야한다는 규칙을 지켜야 한다는 것이다.

---

### 노드 추가
![image](https://github.com/Drum-J/Rob_Edwards_DataStructure/assets/102205699/e36cdd15-ced1-4064-8400-36d7148f250b)

노드를 추가할 때는 노드를 추가 가능한 위치를 찾아서 추가해야 한다.

사진에서 10이 들어있는 노드가 그에 맞는 적절한 위치가 되겠다. 그럼 다음 노드를 추가한다면 마찬가지로 18의 자식 위치에 추가하면 된다는 소리. 10 바로 오른쪽에 붙을 것이다.

사진에서는 이미 정렬이 이루어 져서 10이 가장 아래에 있지만

순서대로 본다면 27이라는 노드가 들어왔고 그 부모 노드인 10과 비교해서 위치를 바꾸고, 다시 한번 그 부모 노드인 18과 비교해서 위치를 바꾸는 작업을 반복해준 것이다.

그렇게 위로 위로 올라와서 더이상 위치를 바꿀 수 없을 때 까지 진행한다. (부모 노드 보다 작을 때 멈춤)

그렇게 한다면 힙의 규칙을 아주 잘 지키게 된다.

---

### 노드 제거, 루트 제거

힙에서 데이터를 삭제할 때는 무조건! 무조건!! (always!! 를 영상에서도 강조함.) Root를 삭제 해야 한다.

그렇게 되면 이 위의 사진으로 봤을 때 55가 사라지고 Root노드가 비어있게 되는데...

그러면 다시 힙의 규칙을 맞추기 위해 자식 노드들 중에 큰 수를 가져오고,, 또 비어있는 노드를 채우기 위해 그 자식 노드를 비교해서 수를 가져오고...

하는 아주 번거로운 일을 해야 한다.

그래서!! root 노드에 트리의 가장 마지막 데이터를 집어 넣고 그 노드를 삭제하는 방법을 사용한다! 여기서는 위의 사진에서 마지막 요소인 10이 root로 옮겨가는 것이다.

![image](https://github.com/Drum-J/Rob_Edwards_DataStructure/assets/102205699/d6b2d40f-85ec-48b9-a89d-b3b1732f1ba2)

이 그림 처럼 10이 root가 된다!!

그리고 나서 자식 노드와 비교해서 데이터를 내리는 작업을 수행하게 된다.

그렇게 올바른 위치를 찾아가면 힙의 규칙을 아주 잘 지키게 되는 것이다!

---

### 정리

노드를 추가할 때는 가장 마지막 위치에 추가하고 올라가면서 데이터를 비교하고

데이터를 삭제 할 때는 가장 마지막 요소를 root로 올리고 

내려가면서 데이터를 비교해서 힙을 완성한다!

